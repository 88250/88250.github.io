var goTop=function(a){a=a||.1;var e=$(window).scrollTop(),t=1+a;if(window.scrollTo(0,Math.floor(e/t)),e>0){var o="goTop("+a+")";window.setTimeout(o,16)}},collapseArchive=function(a,e){var t=!0;"collapse-ico"===a.className?(a.className="expand-ico",t=!1):a.className="collapse-ico",$("#archiveSide li").each((function(){$(this).data("year")===e&&(t?$(this).show():$(this).hide())}))},getArticle=function(a,e){var t=$("#abstract"+e),o=$("#content"+e);return""===o.html()?$.ajax({url:"/get-article-content?id="+e,type:"GET",dataType:"html",beforeSend:function(){t.css("background","url(/skins/neoease/images/ajax-loader.gif) no-repeat scroll center center transparent")},success:function(e,i){a.className="collapse-ico",o.html(e),t.hide().css("background","none"),o.fadeIn("slow"),Util.parseLanguage(),Util.parseMarkdown()}}):"expand-ico"===a.className?(t.hide(),o.fadeIn(),a.className="collapse-ico"):(o.hide(),t.fadeIn(),a.className="expand-ico"),!1},goTranslate=function(){window.open("http://translate.google.com/translate?sl=auto&tl=auto&u="+location.href)};$(document).ready((function(){$(window).scroll((function(){var a=$(window).scrollTop();if(a>182){var e=$(window).height(),t=a+e-21;$("body").height()-58<=a+e&&(t=$(".footer").offset().top-21),$("#goTop").fadeIn("slow").css("top",t)}else $("#goTop").hide()}));var a=(new Date).getFullYear(),e=a;$("#archiveSide li").each((function(t){var o=$(this);o.data("year")!==a&&$(this).hide(),e!==o.data("year")&&(e=o.data("year"),o.before("<li class='archive-year'><div onclick='collapseArchive(this, "+e+")' class='expand-ico'>"+e+"&nbsp;\u5e74</div></li>"))})),$(".recent-comments .expand-ico").click((function(){"expand-ico"===this.className?($(this).parent().next().css({height:"auto","white-space":"normal"}),this.className="collapse-ico"):($(this).parent().next().animate({height:"18px"},(function(){$(this).css("white-space","nowrap")})),this.className="expand-ico")})),$(".nav ul li").each((function(){$(this).find("a").attr("href")===Label.servePath+location.pathname?$(this).addClass("current"):/\/[0-9]+$/.test(location.pathname)&&($(".nav ul li")[0].className="current")})),Util.setTopBar(),Util.buildTags("tagsSide")}));