var Skin={init:function(){Util.initPjax()},_positionToc:function(t){1===t.length&&($(window).width()>876?$(".post__toc").css("left",$(".article .item__content").offset().left+$(".article .item__content").outerWidth()-80):$(".post__toc a").click((function(){$(".post__toc").hide()})))},initArticle:function(){page.share();var t=$(".vditor-reset [id^=b3_solo_h]"),o=$(".article__toc"),i=$(".article__progress");Skin._positionToc(o),o.find("a").click((function(t){var o=$(this).attr("href");return window.location.hash=o,$(window).scrollTop($(o).offset().top-60),t.preventDefault(),t.stopPropagation(),!1})),$(window).unbind("scroll").scroll((function(n){if(0===i.length)return!1;if(i.attr("value",parseInt($(window).scrollTop())).attr("max",parseInt($("body").outerHeight()-$(window).height())),$(window).scrollTop()>236?$(".article__top").css("top",0):$(".article__top").css("top",-61),0===$(".article__toc li").length)return!1;$(window).width()>876&&($(window).scrollTop()>975&&$(window).scrollTop()<$(".article").outerHeight()+100?$(".post__toc").show():$(".post__toc").hide());var e=[];t.each((function(t){e.push({id:this.id,offsetTop:$(this).offset().top})}));for(var r=$(window).scrollTop(),s=0,c=e.length;s<c;s++)if(r<e[s].offsetTop-61){o.find("li").removeClass("current");var l=s>0?s-1:0;o.find('a[href="#'+e[l].id+'"]').parent().addClass("current");break}r>=e[e.length-1].offsetTop-61&&(o.find("li").removeClass("current"),o.find("li:last").addClass("current"))})),$(window).scroll(),$(window).resize((function(){Skin._positionToc(o)}))}};Skin.init();