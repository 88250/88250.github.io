<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/><meta name="theme-color" content="#3b3e43"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no"/><title>Vditor 所见即所得 - D 的个人博客</title><meta name="description" content="阶段性目标 大概在去年这个时候萌生了开发 Vditor 的念头，两个月后 Vditor 第一版完成。第一版基于 textarea 开发，该版本的主要目标是替换在用的第三方编辑器，实现 B3log 各产品线上编辑器的统一。 Vditor 的定位是“下一代的 Markdown 编辑器，为未来而构建”。第一版离这个目标相差还远，但经过这大半年的迭代我们离目标已经越来越近了： 由基于 textarea 改为基于 contenteditable 实现 Markdown 引擎 Lute，并由 markdown-it 切换为 Lute 图表渲染、多媒体播放、语音阅读等功能 所见即所得模式 所见即所得 所见即所得（What you see is what you get，缩写即 WYSIWYG）在编辑器领域指的是看到啥就是啥，比如我想加粗某个字，那“加粗”只是个操作，操作结果就是得到加粗后的文本，而加粗的操作（标记符）是不会出现在文本中的。 目前看来，大部分人习惯所见即所得的编辑方式，因为这种方式非常直观。但在程序员圈子里却恰恰相反，我们更喜欢标记类排版编辑方式，其中最为流行的是 Markdown...."/><meta property="og:description" content="阶段性目标 大概在去年这个时候萌生了开发 Vditor 的念头，两个月后 Vditor 第一版完成。第一版基于 textarea 开发，该版本的主要目标是替换在用的第三方编辑器，实现 B3log 各产品线上编辑器的统一。 Vditor 的定位是“下一代的 Markdown 编辑器，为未来而构建”。第一版离这个目标相差还远，但经过这大半年的迭代我们离目标已经越来越近了： 由基于 textarea 改为基于 contenteditable 实现 Markdown 引擎 Lute，并由 markdown-it 切换为 Lute 图表渲染、多媒体播放、语音阅读等功能 所见即所得模式 所见即所得 所见即所得（What you see is what you get，缩写即 WYSIWYG）在编辑器领域指的是看到啥就是啥，比如我想加粗某个字，那“加粗”只是个操作，操作结果就是得到加粗后的文本，而加粗的操作（标记符）是不会出现在文本中的。 目前看来，大部分人习惯所见即所得的编辑方式，因为这种方式非常直观。但在程序员圈子里却恰恰相反，我们更喜欢标记类排版编辑方式，其中最为流行的是 Markdown...."/>    <meta name="keywords" content="88250"/><link rel="dns-prefetch" href="https://88250.github.io"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://88250.github.io"><link rel="icon" type="image/png" href="https://img.hacpai.com/avatar/1353745196354_1572999872077.png?imageView2/1/w/256/h/256/q/100"/><link rel="apple-touch-icon" href="https://img.hacpai.com/avatar/1353745196354_1572999872077.png?imageView2/1/w/256/h/256/q/100"><link rel="shortcut icon" type="image/x-icon" href="https://img.hacpai.com/avatar/1353745196354_1572999872077.png?imageView2/1/w/256/h/256/q/100"><meta name="copyright" content="B3log"/><meta http-equiv="Window-target" content="_top"/><meta property="og:locale" content="zh_CN"/><meta property="og:title" content="Vditor 所见即所得 - D 的个人博客"/><meta property="og:site_name" content="D 的个人博客"/><meta property="og:url"      content="https://88250.github.io/articles/2019/12/26/1577370404903.html?"/><meta property="og:image" content="https://img.hacpai.com/avatar/1353745196354_1572999872077.png?imageView2/1/w/256/h/256/q/100"/><link rel="search" type="application/opensearchdescription+xml" title="Vditor 所见即所得 - D 的个人博客" href="/opensearch.xml"><link href="https://88250.github.io/rss.xml" title="RSS" type="application/rss+xml" rel="alternate"/><link rel="manifest" href="https://88250.github.io/manifest.json">        <link rel="canonical" href="https://88250.github.io/articles/2019/12/26/1577370404903.html">        <link rel="stylesheet"
              href="https://88250.github.io/skins/Pinghsu/css/base.css?1578556545532"/>
            <link rel="prev" title="创业的第二个秋天" href="https://88250.github.io/articles/2019/11/11/1573402018349.html">
            <link rel="next" title="2019 用善意面对世界" href="https://88250.github.io/articles/2019/12/30/1577712379212.html">
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-144185520-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-144185520-1');
</script></head>
<body>
<header class="header">
    <div class="wrapper">
        <a href="https://88250.github.io" rel="start" class="header__logo">
            <img src="https://img.hacpai.com/avatar/1353745196354_1572999872077.png?imageView2/1/w/128/h/128/interlace/0/q/100"/>
            D 的个人博客
        </a>

        <nav class="header__nav mobile__none">
            <a href="https://88250.github.io/tags.html" rel="section">
                Tags
            </a>
            <a href="https://88250.github.io/archives.html">
                Archives
            </a>
            <a rel="archive" href="https://88250.github.io/links.html">
                Links
            </a>
        </nav>

        <div class="header__bar fn__none" onclick="$(this).next().slideToggle()">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                <path fill="#444" d="M0 3h20v2h-20v-2zM0 9h20v2h-20v-2zM0 15h20v2h-20v-2z"></path>
            </svg>
        </div>
        <main class="header__menu fn__none">
            <ul>
                    <li>
                        <a href="/about" target="_self" rel="section">
                            关于我
                        </a>
                    </li>
                    <li>
                        <a href="/my-github-repos" target="_self" rel="section">
                            我的开源
                        </a>
                    </li>
                    <li>
                        <a href="https://hacpai.com" target="_blank" rel="section">
                            黑客派
                        </a>
                    </li>
                    <li>
                        <a href="https://b3log.org" target="_blank" rel="section">
                            B3log
                        </a>
                    </li>
                <li>
                    <a href="https://88250.github.io/tags.html" rel="section">
                        Tags
                    </a>
                </li>
                <li>
                    <a href="https://88250.github.io/archives.html">
                        Archives
                    </a>
                </li>
                <li>
                    <a rel="archive" href="https://88250.github.io/links.html">
                        Links
                    </a>
                </li>
                <li>
                    <a rel="alternate" href="https://88250.github.io/rss.xml" rel="section">
                        RSS
                    </a>
                </li>
            </ul>
        </main>
    </div>
</header><main id="pjax" class="fn__flex-1">
    
    <div class="post wrapper wrapper--miner">
        <h2 class="item__title">
            <a rel="bookmark" href="https://88250.github.io/articles/2019/12/26/1577370404903.html">
                Vditor 所见即所得
            </a>
        </h2>
        <div class="ft__fade item__meta">
                Published on
            <time>
                Dec 26, 2019
            </time>
            with <span data-uvstaturl="https://88250.github.io/articles/2019/12/26/1577370404903.html">0</span> views
                and <a href="#comments">13 comments</a>
        </div>
        <div class="item__tags">
                <a rel="tag" class="tag tag--0" href="https://88250.github.io/tags/Vditor">
                    <b># Vditor</b>
                </a>
                <a rel="tag" class="tag tag--1" href="https://88250.github.io/tags/Markdown">
                    <b># Markdown</b>
                </a>
                <a rel="tag" class="tag tag--2" href="https://88250.github.io/tags/%E6%89%80%E8%A7%81%E5%8D%B3%E6%89%80%E5%BE%97">
                    <b># 所见即所得</b>
                </a>
                <a rel="tag" class="tag tag--3" href="https://88250.github.io/tags/%E7%BC%96%E8%BE%91%E5%99%A8">
                    <b># 编辑器</b>
                </a>
        </div>
        <div class="vditor-reset">
            <p></p><h3 id="b3_solo_h3_0">阶段性目标</h3>
<p>大概在去年这个时候萌生了开发 Vditor 的念头，两个月后 Vditor 第一版完成。第一版基于 textarea 开发，该版本的主要目标是替换在用的第三方编辑器，实现 B3log 各产品线上编辑器的统一。</p>
<p>Vditor 的定位是“下一代的 Markdown 编辑器，为未来而构建”。第一版离这个目标相差还远，但经过这大半年的迭代我们离目标已经越来越近了：</p>
<ul>
<li>由基于 textarea 改为基于 contenteditable</li>
<li>实现 Markdown 引擎 Lute，并由 markdown-it 切换为 Lute</li>
<li>图表渲染、多媒体播放、语音阅读等功能</li>
<li>所见即所得模式</li>
</ul>
<h3 id="b3_solo_h3_1">所见即所得</h3>
<p>所见即所得（What you see is what you get，缩写即 WYSIWYG）在编辑器领域指的是看到啥就是啥，比如我想加粗某个字，那“加粗”只是个操作，操作结果就是得到加粗后的文本，而加粗的操作（标记符）是不会出现在文本中的。</p>
<p>目前看来，大部分人习惯所见即所得的编辑方式，因为这种方式非常直观。但在程序员圈子里却恰恰相反，我们更喜欢标记类排版编辑方式，其中最为流行的是 Markdown。显然这类标记语言不是所见即所得的，但从程序员的角度理解的话，其实这才是真正的所见即所得，就像《黑客帝国》中的代码绿幕。</p>
<h3 id="b3_solo_h3_2">Markdown 实时渲染</h3>
<p>在实现“Markdown 所见即所得”的方向上，Typora 作为先行者广受好评，但它到目前为止并不开源。和它类似的应用并开源的是 Mark Text，不过它的编辑器似乎还不能方便地抽取出来应用于其他 Web 应用。</p>
<p>通用的所见即所得 Markdown 编辑器也有项目，比如 <a href="https://github.com/laobubu/HyperMD" target="_blank">HyperMD</a>。它的编辑器内核用了 CodeMirror，依赖项较多。</p>
<p>除此之外，从标准 Markdown 规范（CommonMark/GFM）的支持上来看，它们都有或多或少的问题。不遵循规范的话一旦渲染出现偏差，会给用户带来较大困扰，编辑发布后的渲染结果和编辑时的渲染结果不一致，这个问题在内容发布多平台时尤为严重。</p>
<p>这三款编辑器设计的出发点是以 Markdown 为核心，所达到的效果是 Markdown 实时渲染，并且保留标记符，光标如果在标记内部则展开整个标记节点。这个设计可以让 Markdown 用户更专注于内容创作，减少标记符带来的视觉干扰，同时也基本兼顾 Markdown 的优势：排版不用记各种不同编辑器的快捷键。但这样设计的不足之处是对非 Markdown 用户不太友好，展开的标记符会让普通用户有点不知所措，并且还是会产生视觉干扰。</p>
<h3 id="b3_solo_h3_3">选择方向</h3>
<p>综上，Vditor 的演进路线有两个方向：</p>
<ol>
<li>实现保留标记符的 Markdown 实时渲染</li>
<li>所见即所得编辑器，支持 Markdown</li>
</ol>
<p>起初我们主要在方向 1 上做出了努力，基本实现了支持 GFM 的 Markdown 实时渲染，但最后还是因为产品思路转变而放弃了，因为我们觉得方向 2 更加普适。</p>
<p>方向 2 是实现一款所见即所得的富文本编辑器，并对 Markdown 提供支持。这样一来，Vditor 的受众用户会变宽很多，同时 Markdown 用户也可以继续平滑地使用 Markdown 语法进行排版。知乎的编辑器是支持简单的、类似 Markdown 语法排版的，不过稍微复杂一点的排版标记支持就不太好了。</p>
<p>另外，在表格的处理上实时渲染方案是不一致的。表格的 Markdown 表示稍微复杂，所以现有的实时渲染方案也都是做成了所见即所得（弹框编辑）的，这导致整体设计不太一致。</p>
<p>这些因素促使我们决定将 Vditor 往所见即所得的方向演进，同时保留传统的 Markdown 分屏预览模式。从此 Vditor 的定位也就变成了：“一款所见即所得的编辑器，支持 Markdown”。</p>
<h3 id="b3_solo_h3_4">技术实现</h3>
<p>虽然前面提到的路线 1 已经放弃了，但还是分享一下技术实现。这个方案主要构成如下：</p>
<ul>
<li>基于 AST 渲染带各种标记语义的 DOM，标记语义主要通过 span 属性实现</li>
<li>将 DOM 通过 text() 还原为 Markdown 原文</li>
<li>通过源码映射将 Markdown 原文和 AST 做关联，通过计算字符偏移量来实现光标位置重置</li>
</ul>
<p>这个方案中最难的部分是实现光标重置，因为 CM 参考实现（基本所有实现了 CM 规范的解析器都是用的参考实现的算法）只能做到块级元素的源码位置记录，做不到行级元素。要做到行级元素的源码位置记录只能通过词法分析时记录每个 token 的字符位置来实现，但由于这样做会降低性能，所以大部分解析器都没有实现源码映射，毕竟 Markdown 源码映射的应用场景太窄了。</p>
<p>Lute 引擎的源码映射是通过条件编译实现的，服务端渲染时编译的版本是不带源码映射的，Vditor 中用的 JS 导出版本带了源码映射，并提供了 Vditor DOM 渲染器。</p>
<p>路线 2 的实现方案就简单很多，因为不走源码映射的思路：</p>
<ul>
<li>基于 AST 渲染 Vditor DOM</li>
<li>解析 DOM 还原为 Markdown 原文</li>
<li>在 DOM 中记录“插入字符”实现光标位置重置</li>
</ul>
<p>“插入字符”目前用的是 <code>wbr</code> 标签，解析时内部映射为 Caret <code>\u2038</code> ，在解析过程中带着这个字符走，渲染 DOM 时在替换为 <code>wbr</code> 。使用标签的原因是通过 DOM API 处理起来较为方便。</p>
<p>这个方案的弊端显而易见，输入 <code>wbr</code> 标签或者 Caret 字符将影响解析导致错误，不过实际使用时不大可能出现，所以暂时就这样吧。</p>
<h3 id="b3_solo_h3_5">计划未来</h3>
<p>功能实现好后就是性能优化了。大致的技术方案是局部解析渲染，这一步较为容易的是先做到根上的第一层块级，一般来说一个块子树不会太大，所以估计这样做性能应该足够好了。如果追求极致的话可以考虑将这个算法在块级子树上递归，通过控制深度来进行较细粒度的局部解析渲染。</p>
<p>在源码模式上可以基于 AST 做语法高亮，因为 Lute 实现了完整的 Markdown AST，“完整的”意思就是所有源码都会被解析为节点，包括了标记符。这样就比较容易在渲染时带上 CSS 类来实现语法高亮了。</p>
<p>更远一些的构想：</p>
<ul>
<li>实现块风格编辑器，支持块复用</li>
<li>支持其他的标记语法</li>
</ul>
<p></p>
                <div>
                    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-5357405790190342"
     data-ad-slot="9726081163"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
                </div>
        </div>
    </div>
    <div class="post__toc">
<ul class="article__toc">
        <li class="toc__h3">
            <a href="#b3_solo_h3_0">阶段性目标</a>
        </li>
        <li class="toc__h3">
            <a href="#b3_solo_h3_1">所见即所得</a>
        </li>
        <li class="toc__h3">
            <a href="#b3_solo_h3_2">Markdown 实时渲染</a>
        </li>
        <li class="toc__h3">
            <a href="#b3_solo_h3_3">选择方向</a>
        </li>
        <li class="toc__h3">
            <a href="#b3_solo_h3_4">技术实现</a>
        </li>
        <li class="toc__h3">
            <a href="#b3_solo_h3_5">计划未来</a>
        </li>
</ul>    </div>
    <div class="body--gray post__gray">
        <div class="wrapper comment">
<div class="comment__title">
    Responses
</div>
     <textarea rows="3" placeholder="Your comment here. Be cool. " id="comment"></textarea>

<ul id="comments">
<li id="1577548009059" class="item">
    <div class="fn__clear">
        <div class="item__avatar" style="background-image: url(https://img.hacpai.com/avatar/1573987431565?imageView2/1/w/48/h/48/interlace/0/q/100)"></div>
        <div class="item__name">
            <a class="ft__link" href="https://hacpai.com/member/lmmarise" target="_blank">lmmarise</a>

        </div>
    </div>
    <div class="vditor-reset">
    <p>?</p>
    </div>
    <div class="item__meta fn__clear">
        <time>
        Dec 28, 2019
        </time>
            <a class="fn__right fn__none item__reply"
               href="javascript:page.toggleEditor('1577548009059', 'lmmarise')">Reply</a>
    </div>
</li><li id="1577447848866" class="item">
    <div class="fn__clear">
        <div class="item__avatar" style="background-image: url(https://img.hacpai.com/avatar/1565971569984_1566110887763.jpeg?imageView2/1/w/48/h/48/interlace/0/q/100)"></div>
        <div class="item__name">
            <a class="ft__link" href="https://hacpai.com/member/dengwentong" target="_blank">dengwentong</a>

        </div>
    </div>
    <div class="vditor-reset">
    <p>V 姐 D大 V5</p>
    </div>
    <div class="item__meta fn__clear">
        <time>
        Dec 27, 2019
        </time>
            <a class="fn__right fn__none item__reply"
               href="javascript:page.toggleEditor('1577447848866', 'dengwentong')">Reply</a>
    </div>
</li><li id="1577435421247" class="item">
    <div class="fn__clear">
        <div class="item__avatar" style="background-image: url(https://img.hacpai.com/avatar/1559274898016_1565937195458.gif?imageView2/1/w/48/h/48/interlace/0/q/100)"></div>
        <div class="item__name">
            <a class="ft__link" href="https://hacpai.com/member/InkDP" target="_blank">InkDP</a>

        </div>
    </div>
    <div class="vditor-reset">
    <p>6666 打Call</p>
    </div>
    <div class="item__meta fn__clear">
        <time>
        Dec 27, 2019
        </time>
            <a class="fn__right fn__none item__reply"
               href="javascript:page.toggleEditor('1577435421247', 'InkDP')">Reply</a>
    </div>
</li><li id="1577435326698" class="item">
    <div class="fn__clear">
        <div class="item__avatar" style="background-image: url(https://img.hacpai.com/avatar/1458007452245_1496320177409.jpeg?imageView2/1/w/48/h/48/interlace/0/q/100)"></div>
        <div class="item__name">
            <a class="ft__link" href="https://hacpai.com/member/jeffjade" target="_blank">jeffjade</a>

        </div>
    </div>
    <div class="vditor-reset">
    <p>NICE。</p>
    </div>
    <div class="item__meta fn__clear">
        <time>
        Dec 27, 2019
        </time>
            <a class="fn__right fn__none item__reply"
               href="javascript:page.toggleEditor('1577435326698', 'jeffjade')">Reply</a>
    </div>
</li><li id="1577415183573" class="item">
    <div class="fn__clear">
        <div class="item__avatar" style="background-image: url(https://img.hacpai.com/avatar/1353745196354_1572999872077.png?imageView2/1/w/48/h/48/interlace/0/q/100)"></div>
        <div class="item__name">
            <a class="ft__link" href="https://hacpai.com/member/88250" target="_blank">88250</a>

        </div>
    </div>
    <div class="vditor-reset">
    <p>一样的，DV 不分家。</p>
    </div>
    <div class="item__meta fn__clear">
        <time>
        Dec 27, 2019
        </time>
            <a class="fn__right fn__none item__reply"
               href="javascript:page.toggleEditor('1577415183573', '88250')">Reply</a>
    </div>
</li><li id="1577414839969" class="item">
    <div class="fn__clear">
        <div class="item__avatar" style="background-image: url(https://img.hacpai.com/avatar/1547428844287_1547795399823.jpeg?imageView2/1/w/48/h/48/interlace/0/q/100)"></div>
        <div class="item__name">
            <a class="ft__link" href="https://hacpai.com/member/hjljy" target="_blank">hjljy</a>

        </div>
    </div>
    <div class="vditor-reset">
    <p>不知道该为D姐打call还是为V大打call?</p>
    </div>
    <div class="item__meta fn__clear">
        <time>
        Dec 27, 2019
        </time>
            <a class="fn__right fn__none item__reply"
               href="javascript:page.toggleEditor('1577414839969', 'hjljy')">Reply</a>
    </div>
</li><li id="1577410425130" class="item">
    <div class="fn__clear">
        <div class="item__avatar" style="background-image: url(https://img.hacpai.com/avatar/1557586345620_1565678210261.jpeg?imageView2/1/w/48/h/48/interlace/0/q/100)"></div>
        <div class="item__name">
            <a class="ft__link" href="https://hacpai.com/member/JssDream" target="_blank">JssDream</a>

        </div>
    </div>
    <div class="vditor-reset">
    <p>?<br> ?</p>
    </div>
    <div class="item__meta fn__clear">
        <time>
        Dec 27, 2019
        </time>
            <a class="fn__right fn__none item__reply"
               href="javascript:page.toggleEditor('1577410425130', 'JssDream')">Reply</a>
    </div>
</li><li id="1577409525677" class="item">
    <div class="fn__clear">
        <div class="item__avatar" style="background-image: url(https://img.hacpai.com/avatar/1353745196354_1572999872077.png?imageView2/1/w/48/h/48/interlace/0/q/100)"></div>
        <div class="item__name">
            <a class="ft__link" href="https://hacpai.com/member/88250" target="_blank">88250</a>

        </div>
    </div>
    <div class="vditor-reset">
    <p>保留标记符感觉不是太必要，还是有一定干扰。</p>
    </div>
    <div class="item__meta fn__clear">
        <time>
        Dec 27, 2019
        </time>
            <a class="fn__right fn__none item__reply"
               href="javascript:page.toggleEditor('1577409525677', '88250')">Reply</a>
    </div>
</li><li id="1577409185099" class="item">
    <div class="fn__clear">
        <div class="item__avatar" style="background-image: url(https://img.hacpai.com/avatar/1552202503861_1562141298909.jpeg?imageView2/1/w/48/h/48/interlace/0/q/100)"></div>
        <div class="item__name">
            <a class="ft__link" href="https://hacpai.com/member/AdlerED" target="_blank">AdlerED</a>

        </div>
    </div>
    <div class="vditor-reset">
    <p>?</p>
    </div>
    <div class="item__meta fn__clear">
        <time>
        Dec 27, 2019
        </time>
            <a class="fn__right fn__none item__reply"
               href="javascript:page.toggleEditor('1577409185099', 'AdlerED')">Reply</a>
    </div>
</li><li id="1577408752582" class="item">
    <div class="fn__clear">
        <div class="item__avatar" style="background-image: url(https://img.hacpai.com/avatar/1559640765219_1563872796353.png?imageView2/1/w/48/h/48/format/jpg/interlace/0/q/100)"></div>
        <div class="item__name">
            <a class="ft__link" href="https://hacpai.com/member/Blackman99" target="_blank">Blackman99</a>

        </div>
    </div>
    <div class="vditor-reset">
    <p>?</p>
    </div>
    <div class="item__meta fn__clear">
        <time>
        Dec 27, 2019
        </time>
            <a class="fn__right fn__none item__reply"
               href="javascript:page.toggleEditor('1577408752582', 'Blackman99')">Reply</a>
    </div>
</li><li id="1577408566708" class="item">
    <div class="fn__clear">
        <div class="item__avatar" style="background-image: url(https://img.hacpai.com/avatar/1520340942679_1573806363849.png?imageView2/1/w/48/h/48/format/jpg/interlace/0/q/100)"></div>
        <div class="item__name">
            <a class="ft__link" href="https://hacpai.com/member/taoism-o" target="_blank">taoism-o</a>

        </div>
    </div>
    <div class="vditor-reset">
    <p>D佬V5！</p>
    </div>
    <div class="item__meta fn__clear">
        <time>
        Dec 27, 2019
        </time>
            <a class="fn__right fn__none item__reply"
               href="javascript:page.toggleEditor('1577408566708', 'taoism-o')">Reply</a>
    </div>
</li><li id="1577408450782" class="item">
    <div class="fn__clear">
        <div class="item__avatar" style="background-image: url(https://img.hacpai.com/avatar/1522743072387_1529850525222.?imageView2/1/w/48/h/48/format/jpg/interlace/0/q/100)"></div>
        <div class="item__name">
            <a class="ft__link" href="https://hacpai.com/member/mufengcoding" target="_blank">mufengcoding</a>

        </div>
    </div>
    <div class="vditor-reset">
    <p>Typora那种方式就挺好的</p>
    </div>
    <div class="item__meta fn__clear">
        <time>
        Dec 27, 2019
        </time>
            <a class="fn__right fn__none item__reply"
               href="javascript:page.toggleEditor('1577408450782', 'mufengcoding')">Reply</a>
    </div>
</li><li id="1577408259449" class="item">
    <div class="fn__clear">
        <div class="item__avatar" style="background-image: url(https://img.hacpai.com/avatar/1550844069336?imageView2/1/w/48/h/48/interlace/0/q/100)"></div>
        <div class="item__name">
            <a class="ft__link" href="https://hacpai.com/member/Hanseltu" target="_blank">Hanseltu</a>

        </div>
    </div>
    <div class="vditor-reset">
    <p>支持！</p>
    </div>
    <div class="item__meta fn__clear">
        <time>
        Dec 27, 2019
        </time>
            <a class="fn__right fn__none item__reply"
               href="javascript:page.toggleEditor('1577408259449', 'Hanseltu')">Reply</a>
    </div>
</li></ul>

            <div class="post__list fn__flex">
                <div class="fn__flex-1">
                    <div id="externalRelevantArticles"></div>
                </div>
                <div class="post__list-mid fn__flex-1">
                    <div id="randomArticles"></div>
                </div>
                <div class="fn__flex-1">
                    <div id="relevantArticles"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="post__fix">
        <div class="wrapper">
            <span class="post__share mobile__none">
                Share
                <span class="tag tag--4" data-type="weibo">WeiBo</span>
                <span class="tag tag--5" data-type="twitter">Twitter</span>
                <span class="tag tag--6" data-type="qqz">QZone</span>
                <span class="post__code tag tag--7"
                      data-type="wechat"
                      data-title="Vditor 所见即所得"
                      data-blogtitle="D 的个人博客"
                      data-url="https://88250.github.io/articles/2019/12/26/1577370404903.html"
                      data-avatar="https://img.hacpai.com/avatar/1353745196354_1572999872077.png?imageView2/1/w/128/h/128/interlace/0/q/100">WeChat</span>
            </span>
            <span class="post__arrow">
                    <a href="https://88250.github.io/articles/2019/11/11/1573402018349.html" rel="prev"
                       class="vditor-tooltipped__n vditor-tooltipped"
                       pjax-title="创业的第二个秋天"
                       aria-label="旧一篇: 创业的第二个秋天">←</a>

                    <a href="https://88250.github.io/articles/2019/12/30/1577712379212.html" rel="next"
                       class="vditor-tooltipped__n vditor-tooltipped"
                       pjax-title="2019 用善意面对世界"
                       aria-label="新一篇: 2019 用善意面对世界">→</a>
                <a href="javascript:Util.goTop()" class="vditor-tooltipped__n vditor-tooltipped"
                   aria-label="移动到顶部">↑</a>
                <a href="javascript:Util.goBottom()" class="vditor-tooltipped__n vditor-tooltipped"
                   aria-label="移动到底部">↓</a>
            </span>
        </div>
    </div>
    
</main>
<footer class="footer">
    <div class="ft__center">
    <a href="https://hacpai.com/member/88250"
       aria-label="https://hacpai.com/member/88250"
       class="vditor-tooltipped__n vditor-tooltipped  user__site"
       target="_blank" rel="noopener nofollow">
        <svg viewBox="0 0 32 32" width="100%" height="100%">
            <path fill="#d23f31" style="fill: var(--color1, #d23f31)" d="M5.787 17.226h17.033l5.954 9.528c0.47 0.752 0.003 1.361-1.042 1.361h-15.141z"></path>
            <path d="M10.74 3.927h17.033c1.045 0 1.512 0.609 1.042 1.361l-5.954 9.528h-19.872l6.379-10.209c0.235-0.376 0.849-0.681 1.372-0.681z"></path>
            <path d="M2.953 17.226h2.839l6.804 10.889h-1.892c-0.523 0-1.137-0.305-1.372-0.681z"></path>
        </svg>
    </a>

        <a href="https://github.com/88250"
           aria-label="https://github.com/88250"
           class="vditor-tooltipped__n vditor-tooltipped  user__site"
           target="_blank" rel="noopener nofollow">
            <svg viewBox="0 0 32 32" width="100%" height="100%">
                <path d="M16 0.331c-8.836 0-16 7.163-16 16 0 7.069 4.585 13.067 10.942 15.182 0.8 0.148 1.094-0.347 1.094-0.77 0-0.381-0.015-1.642-0.022-2.979-4.452 0.968-5.391-1.888-5.391-1.888-0.728-1.849-1.776-2.341-1.776-2.341-1.452-0.993 0.11-0.973 0.11-0.973 1.606 0.113 2.452 1.649 2.452 1.649 1.427 2.446 3.743 1.739 4.656 1.33 0.143-1.034 0.558-1.74 1.016-2.14-3.554-0.404-7.29-1.777-7.29-7.907 0-1.747 0.625-3.174 1.649-4.295-0.166-0.403-0.714-2.030 0.155-4.234 0 0 1.344-0.43 4.401 1.64 1.276-0.355 2.645-0.532 4.005-0.539 1.359 0.006 2.729 0.184 4.008 0.539 3.054-2.070 4.395-1.64 4.395-1.64 0.871 2.204 0.323 3.831 0.157 4.234 1.026 1.12 1.647 2.548 1.647 4.295 0 6.145-3.743 7.498-7.306 7.895 0.574 0.497 1.085 1.47 1.085 2.963 0 2.141-0.019 3.864-0.019 4.391 0 0.426 0.288 0.925 1.099 0.768 6.354-2.118 10.933-8.113 10.933-15.18 0-8.837-7.164-16-16-16z"></path>
            </svg>
        </a>

    </div>
    <nav class="footer__nav mobile__none">
            <a class="ft__link" href="/about" target="_self" rel="section">
                关于我
            </a>
            <a class="ft__link" href="/my-github-repos" target="_self" rel="section">
                我的开源
            </a>
            <a class="ft__link" href="https://hacpai.com" target="_blank" rel="section">
                黑客派
            </a>
            <a class="ft__link" href="https://b3log.org" target="_blank" rel="section">
                B3log
            </a>
        <a class="ft__link" rel="alternate" href="https://88250.github.io/rss.xml" rel="section">RSS</a>
    </nav>
    <div class="footer__border mobile__none"></div>
    <div class="wrapper fn__flex">
        <div class="fn__flex-1 mobile__none">
            <div class="ft__fade">88250 - 开源程序员，自由职业者</div>
            <br>
                <div>
小而美的 Java 博客系统 <a style="text-decoration: none;" target="_blank" href="https://solo.b3log.org"><span style="color: orangered; font-weight: bold;">Solo</span></a><br/>
Golang 在线 IDE <a style="text-decoration: none;" target="_blank" href="https://wide.b3log.org"><span style="color: #4183c4; font-weight: 
bold;">Wide</span></a><br/>
黑客与画家的社区 <a style="text-decoration: none;" target="_blank" href="https://hacpai.com/register?r=88250"><span style="color: #f47e00; font-weight: 
bold;">Sym</span></a>
</div>
        </div>

            <div class="footer__mid fn__flex-1 mobile__none">
                <div class="ft__fade">分类</div>
                <br>
                    <a href="https://88250.github.io/category/dev-language"
                       aria-label="36 个标签"
                       class="ft__link ft__nowrap vditor-tooltipped vditor-tooltipped__n">
                        编程语言</a> &nbsp; &nbsp;
                    <a href="https://88250.github.io/category/past-summary"
                       aria-label="3 个标签"
                       class="ft__link ft__nowrap vditor-tooltipped vditor-tooltipped__n">
                        往事与总结</a> &nbsp; &nbsp;
                    <a href="https://88250.github.io/category/i-love-opensource"
                       aria-label="29 个标签"
                       class="ft__link ft__nowrap vditor-tooltipped vditor-tooltipped__n">
                        开源项目</a> &nbsp; &nbsp;
                    <a href="https://88250.github.io/category/linux"
                       aria-label="9 个标签"
                       class="ft__link ft__nowrap vditor-tooltipped vditor-tooltipped__n">
                        Linux</a> &nbsp; &nbsp;
                    <a href="https://88250.github.io/category/arch"
                       aria-label="3 个标签"
                       class="ft__link ft__nowrap vditor-tooltipped vditor-tooltipped__n">
                        架构设计</a> &nbsp; &nbsp;
                    <a href="https://88250.github.io/category/database"
                       aria-label="4 个标签"
                       class="ft__link ft__nowrap vditor-tooltipped vditor-tooltipped__n">
                        数据库</a> &nbsp; &nbsp;
            </div>

        <div class="fn__flex-1 footer__copyright">
            <a class="ft__link" href="https://88250.github.io/archives.html">
                405
                文章
            </a> &nbsp; &nbsp;
                2,022
                评论 <br>
            <span data-uvstaturl="https://88250.github.io">0</span> <span class="ft-gray">浏览</span> &nbsp; &nbsp;
            7 <span class="ft-gray">当前访客</span> <br>
            &copy; 2020
            <a class="ft__link" href="https://88250.github.io">D 的个人博客</a>
            
            <br>
            Powered by <a class="ft__link" href="https://solo.b3log.org" target="_blank">Solo</a>
            <br>
            Theme Pinghsu
            <sup>[<a class="ft__link" target="_blank" href="https://github.com/chakhsu/pinghsu">ref</a>]</sup>
            by <a class="ft__link" href="http://vanessa.b3log.org" target="_blank">Vanessa</a>
        </div>
    </div>
</footer>
<script type="text/javascript" src="https://88250.github.io/js/lib/compress/pjax.min.js" charset="utf-8"></script>
<script type="text/javascript" src="https://88250.github.io/js/common.js?1578556545532"
        charset="utf-8"></script>
<script type="text/javascript" src="https://88250.github.io/skins/Pinghsu/js/headroom.js"
        charset="utf-8"></script>
<script type="text/javascript"
        src="https://88250.github.io/skins/Pinghsu/js/common.js?1578556545532"
        charset="utf-8"></script>
<script src="https://cdn.jsdelivr.net/npm/uvstat@v1.0.2/dist/index.min.js"></script>
<script>
    var Label = {
        servePath: "https://88250.github.io",
        staticServePath: "https://88250.github.io",
        luteAvailable: false,
        hljsStyle: 'monokai',
        langLabel: "zh_CN",
        version: "3.6.8",
    }
    Util.init()
</script>
<link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/kanbanniang@0.2.6/index.css"/>
<script async src="https://cdn.jsdelivr.net/npm/kanbanniang@0.2.6/index.js"></script>
<div class="solo-kanbanniang">
    <div class="solo-kanbanniang__tip"></div>
    <canvas id="soloKanbanniang" width="280" height="250"></canvas>
    <div class="solo-kanbanniang__tool">
        <svg id="soloKanbanniangHome" viewBox="0 0 32 32" width="100%" height="100%">
            <path d="M32 18.967l-16-12.42-16 12.42v-5.064l16-12.42 16 12.42zM28 18.516v12h-8v-8h-8v8h-8v-12l12-9z"></path>
        </svg>
        <svg id="soloKanbanniangRSS" viewBox="0 0 1024 1024" width="32" height="32">
            <path d="M320.364 768q0 45.728-32 77.728t-77.728 32-77.728-32-32-77.728 32-77.728 77.728-32 77.728 32 32 77.728zM612.94 838.272q1.152 16-9.728 27.424-10.272 12-26.848 12h-77.152q-14.272 0-24.576-9.44t-11.424-23.712q-12.576-130.848-105.44-223.712t-223.712-105.44q-14.272-1.152-23.712-11.424t-9.44-24.576V402.24q0-16.576 12-26.848 9.728-9.728 24.576-9.728h2.848q91.424 7.424 174.848 46.016t148 103.712q65.152 64.576 103.712 148t46.016 174.848z m292.576 1.152q1.152 15.424-10.272 26.848-10.272 11.424-26.272 11.424h-81.728q-14.848 0-25.44-10.016t-11.136-24.288q-6.848-122.848-57.728-233.44t-132.288-192-192-132.288-233.44-58.272q-14.272-0.576-24.288-11.136t-10.016-24.864V109.664q0-16 11.424-26.272 10.272-10.272 25.152-10.272h1.728q149.728 7.424 286.56 68.576t243.136 168q106.848 106.272 168 243.136t68.576 286.56z"></path>
        </svg>
        <svg id="soloKanbanniangChat" viewBox="0 0 1024 1024" width="32" height="32">
            <path d="M802.42709 96.163153H219.476155c-84.48109 0-154.896836 71.746044-154.896836 157.840888v393.119449c0 86.072331 70.415746 157.819398 154.896836 157.819399h214.038818V925.470963s22.526039 40.168862 64.767096 5.734608c30.965246-25.819039 126.721123-91.828428 171.775248-123.385145h132.369773c84.502579 0 154.896836-83.21526 154.896836-157.839865V251.125481c0-86.094844-70.394257-154.962328-154.896836-154.962328zM301.144176 518.002714c-39.427988 0-70.416769-31.576159-70.416769-71.746044 0-40.168862 30.988782-71.746044 70.416769-71.746044 39.426965 0 70.393233 31.577183 70.393234 71.746044 0 40.169885-30.966269 71.746044-70.393234 71.746044z m208.411657 0c-39.450501 0-70.415746-31.576159-70.415746-71.746044 0-40.168862 30.965246-71.746044 70.415746-71.746044 39.405475 0 70.394257 31.577183 70.394257 71.746044 0 40.169885-30.988782 71.746044-70.394257 71.746044z m211.203236 0c-39.426965 0-70.416769-31.576159-70.416769-71.746044 0-40.168862 30.988782-71.746044 70.416769-71.746044s70.415746 31.577183 70.415746 71.746044c-0.001023 40.169885-30.988782 71.746044-70.415746 71.746044z"></path>
        </svg>
        <svg id="soloKanbanniangChange" viewBox="0 0 1024 1024" width="32" height="32">
            <path d="M936.672 193.216l-226.88-64c-8.704-2.528-18.112-1.12-25.824 3.776-7.68 4.864-12.896 12.736-14.432 21.728C655.712 236.928 595.328 288 512 288c-71.424 0-142.464-103.296-163.776-143.104-7.136-13.28-22.528-19.84-37.024-15.68l-224 64C73.472 197.152 64 209.728 64 224v256a31.93 31.93 0 0 0 11.712 24.736c7.392 6.08 17.152 8.512 26.56 6.624L224 487.04V832c0 52.928 43.072 96 96 96h384c52.928 0 96-43.072 96-96V519.04l121.728 24.352c9.44 1.92 19.2-0.544 26.56-6.624C955.68 530.656 960 521.6 960 512V224c0-14.336-9.536-26.912-23.328-30.784zM672 800H352c-17.664 0-32-14.304-32-32s14.336-32 32-32h320c17.696 0 32 14.304 32 32s-14.304 32-32 32z"></path>
        </svg>
        <svg id="soloKanbanniangPhoto" viewBox="0 0 1024 1024" width="32" height="32">
            <path d="M898.048 258.048q23.552-1.024 46.592 9.216t40.96 27.136 28.672 39.424 10.752 46.08l0 390.144q0 24.576-10.752 47.104t-28.672 40.448-40.96 28.16-47.616 10.24l-697.344 0q-24.576 0-48.64-10.24t-42.496-27.648-29.696-40.448-11.264-48.64l0-381.952q0-22.528 10.752-45.568t28.672-41.472 39.936-30.208 44.544-11.776l63.488 0 13.312-83.968q3.072-20.48 18.432-32.768t34.816-12.288l456.704 0q19.456 0 34.304 10.752t16.896 34.304l14.336 83.968 54.272 0zM548.864 712.704q40.96 0 77.824-15.872t63.488-42.496 42.496-62.976 15.872-77.312-15.872-77.312-42.496-62.976-63.488-42.496-77.824-15.872-77.312 15.872-63.488 42.496-43.008 62.976-15.872 77.312 15.872 77.312 43.008 62.976 63.488 42.496 77.312 15.872z"></path>
        </svg>
        <svg id="soloKanbanniangGithub" viewBox="0 0 1024 1024" width="32" height="32">
            <path d="M1024 524.8c0 114.346667-32.554667 217.216-97.706667 308.565333-65.066667 91.306667-149.162667 154.538667-252.288 189.610667-11.989333 2.304-20.778667 0.682667-26.325333-4.778667a27.605333 27.605333 0 0 1-8.362667-20.48v-144.213333c0-44.16-11.52-76.501333-34.645333-97.024 25.344-2.730667 48.085333-6.826667 68.309333-12.288a268.629333 268.629333 0 0 0 62.72-26.666667 187.434667 187.434667 0 0 0 53.973334-45.44c14.421333-18.005333 26.197333-41.898667 35.328-71.765333 9.088-29.824 13.653333-64.128 13.653333-102.826667 0-55.125333-17.536-102.058667-52.650667-140.8 16.426667-41.429333 14.677333-87.893333-5.333333-139.392-12.458667-4.096-30.464-1.578667-54.016 7.509334a355.328 355.328 0 0 0-61.312 30.08L640 271.274667a462.336 462.336 0 0 0-128-17.749334c-43.989333 0-86.656 5.930667-128 17.749334a589.824 589.824 0 0 0-28.330667-18.432c-11.776-7.253333-30.336-16.042667-55.68-26.325334-25.344-10.24-44.416-13.312-57.301333-9.216-19.584 51.498667-21.12 97.962667-4.693333 139.434667-35.114667 38.698667-52.650667 85.632-52.650667 140.757333 0 38.698667 4.565333 72.874667 13.653333 102.485334 9.130667 29.610667 20.778667 53.546667 34.986667 71.765333 14.250667 18.218667 32.128 33.493333 53.674667 45.781333 21.546667 12.288 42.453333 21.205333 62.677333 26.666667 20.224 5.461333 43.008 9.557333 68.309333 12.288-17.749333 16.384-28.629333 39.850667-32.64 70.4a130.005333 130.005333 0 0 1-29.994666 10.24c-10.666667 2.261333-23.338667 3.413333-37.973334 3.413333-14.72 0-29.269333-4.906667-43.690666-14.677333-14.464-9.813333-26.794667-24.064-36.992-42.709333a109.226667 109.226667 0 0 0-32.341334-35.541334c-13.141333-9.130667-24.106667-14.592-33.024-16.426666l-13.312-2.048c-9.344 0-15.786667 1.024-19.328 3.072-3.584 2.090667-4.693333 4.693333-3.328 7.893333 1.28 3.157333 3.328 6.4 5.973334 9.557333 2.688 3.2 5.546667 5.930667 8.661333 8.192l4.693333 3.413334c9.770667 4.565333 19.413333 13.226667 29.013334 25.984 9.514667 12.757333 16.512 24.362667 20.992 34.858666l6.656 15.701334c5.76 17.322667 15.530667 31.317333 29.312 42.026666 13.781333 10.666667 28.672 17.536 44.672 20.48 16 2.986667 31.445333 4.565333 46.336 4.821334 14.890667 0.213333 27.221333-0.597333 36.992-2.389334l15.36-2.730666c0 17.28 0.085333 37.546667 0.298666 60.8l0.341334 36.906666a27.050667 27.050667 0 0 1-8.661334 20.48c-5.76 5.461333-14.677333 7.082667-26.666666 4.778667-103.125333-35.072-187.221333-98.261333-252.330667-189.610667C32.554667 742.058667 0 639.146667 0 524.8c0-95.232 22.869333-183.04 68.693333-263.466667A516.266667 516.266667 0 0 1 254.976 70.4C333.44 23.466667 419.114667 0 512 0c92.885333 0 178.56 23.466667 256.981333 70.4a516.266667 516.266667 0 0 1 186.368 190.976C1001.130667 341.802667 1024 429.653333 1024 524.842667z"></path>
        </svg>
        <svg id="soloKanbanniangClose" viewBox="0 0 1024 1024" width="32" height="32">
            <path d="M517.572566143763 1018.6748601482986C238.26554897656422 1018.6748601482986 11.897910175114305 792.2714997690043 11.897910175114305 513.0002041796496c0-279.3070171671984 226.36763880144977-505.71037754649296 505.6746559686481-505.71037754649296 279.2712955893538 0 505.6746559686481 226.40336037929444 505.6746559686481 505.71037754649296C1023.2472221124112 792.2714997690043 796.8795833109612 1018.6748601482986 517.572566143763 1018.6748601482986zM754.7281214542927 339.25044954334646c13.752807470184345-13.752807470184345 9.680547595895998-40.186775075214015-9.073280772537204-58.94060344364717l-2.143294670678079-2.1075730928334457c-18.7538283684332-18.7538283684332-45.15207439561819-22.861809820566194-58.90488186580257-9.073280772537204l-168.21291007038468 168.24863164822932-180.42968969324974-180.46541127109438c-13.967136937252159-13.967136937252159-40.72259874288353-9.823433907274534-59.72647815622916 9.216167083915742l-2.143294670678079 2.143294670678079c-19.039600991190277 19.003879413345654-23.111860865478626 45.75934121897699-9.180445506071107 59.655035000539876l180.42968969324974 180.46541127109438-176.07165719620428 176.03593561835962c-13.788529048028984 13.824250625873615-9.716269173740633 40.151053497369375 9.073280772537204 58.94060344364717l2.1075730928334457 2.1075730928334457c18.7538283684332 18.7538283684332 45.15207439561819 22.897531398410823 58.90488186580257 9.073280772537204l176.10737877404887-176.10737877404887 170.39192631890742 170.42764789675192c13.967136937252159 13.931415359407513 40.686877165038865 9.85915548511917 59.690756578384516-9.180445506071107l2.1790162485227142-2.1790162485227142c19.039600991190277-18.968157835501014 23.147582443323273-45.72361964113239 9.180445506071107-59.690756578384516l-170.39192631890742-170.42764789675192L754.7281214542927 339.25044954334646z"></path>
        </svg>
    </div>
</div>



<script type="text/javascript">
    Util.addScript('https://88250.github.io/js/page.js?1578556545532', 'soloPageScript')
    var page = new Page({
        "commentContentCannotEmptyLabel": "评论内容只能为 2 到 500 个字符！",
        "oId": "1577370404903",
        "blogHost": "https://88250.github.io",
        "randomArticles1Label": "随机阅读：",
        "externalRelevantArticles1Label": "站外相关阅读："
    });
    $(document).ready(function () {
        page.load();
    page.tips.externalRelevantArticlesDisplayCount = "7";
    page.loadExternalRelevantArticles("Vditor,Markdown,所见即所得,编辑器",
    '<h3>HACPAI POSTS</h3>');
Skin.initArticle()
    });
</script>

</body>
</html>

<!-- Generated by Latke (https://github.com/88250/latke) in 310ms, 2020/01/09 15:56:46 -->